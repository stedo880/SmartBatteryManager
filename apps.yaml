smart_battery:
  module: smart_battery
  class: SmartBatteryManager
  soc_sensor: sensor.batteries_state_of_capacity
  tibber_sensor: sensor.tibber_electricity_prices
  energy_next_hour_sensor_1: sensor.energy_next_hour
  energy_next_hour_sensor_2: sensor.energy_next_hour_2
  energy_today_remaining_sensor_1: sensor.energy_production_today_remaining
  energy_today_remaining_sensor_2: sensor.energy_production_today_remaining_2
  battery_capacity_kwh: 10
  charge_duration_minutes: 15
  charge_power_w: 3000
  always_charge_threshold: 0.06 # SEK = 6 Ã¶re
  always_charge_factor: 0.1 # 10% of mean price
  soc_targets:
    - 0.30  # 00:00
    - 0.30  # 01:00
    - 0.30  # 02:00
    - 0.30  # 03:00
    - 0.50  # 04:00
    - 0.50  # 05:00
    - 0.50  # 06:00
    - 1.00  # 07:00
    - 1.00  # 08:00
    - 1.00  # 09:00
    - 1.00  # 10:00
    - 1.00  # 11:00
    - 1.00  # 12:00
    - 1.00  # 13:00
    - 1.00  # 14:00
    - 1.00  # 15:00
    - 1.00  # 16:00
    - 1.00  # 17:00
    - 0.50  # 18:00
    - 0.50  # 19:00
    - 0.50  # 20:00
    - 0.30  # 21:00
    - 0.30  # 22:00
    - 0.30  # 23:00
    